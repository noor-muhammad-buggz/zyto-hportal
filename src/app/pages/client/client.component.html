<h3 class="a_h3">Complete the form below</h3>
<section class="a_client_form_section">
    <div class="a_new_client_form">
        <form [formGroup]="clientForm" (ngSubmit)="onSubmit(clientForm.value)" class="was-validated">
            <!-- <label class="a_btn_file btn">
                <input type="file" />
                <i class="fa fa-file-image-o" aria-hidden="true"></i>
            </label> -->
            <div class="row">
                <div class="col-sm-6">
                    <label for="">First Name</label>
                    <div class="form-group a_left_icon_input" [ngClass]="{'has-error':!clientForm.controls['firstname'].valid && clientForm.controls['firstname'].touched}">
                        <i class="fa fa-id-card-o" aria-hidden="true"></i>
                        <input type="text" class="form-control" [formControl]="firstname" name="firstName" placeholder="First Name">
                        <ng-container *ngIf="clientForm.controls['firstname'].hasError('required'); else elseFirstNameErrorTemplate">
                            <span class="text-danger" *ngIf="clientForm.controls['firstname'].hasError('required') && (clientForm.controls['firstname'].dirty || clientForm.controls['firstname'].touched)">This field is required</span>
                        </ng-container>
                        <ng-template #elseFirstNameErrorTemplate>
                            <span class="text-danger" *ngIf="clientForm.controls['firstname'].hasError('ValidateEmpty') && (clientForm.controls['firstname'].dirty || clientForm.controls['firstname'].touched)">Please write something in the field</span>
                        </ng-template>
                    </div>
                </div>
                <!-- <div class="col-sm-4">
                    <div class="form-group a_left_icon_input">
                        <i class="fa fa-id-card-o" aria-hidden="true"></i>
                        <input type="text" class="form-control" [formControl]="middlename" name="middleName" placeholder="Middle Name">
                    </div>
                </div> -->

                <div class="col-sm-6">
                    <label for="">Last Name</label>
                    <div class="form-group a_left_icon_input" [ngClass]="{'has-error':!clientForm.controls['lastname'].valid && clientForm.controls['lastname'].touched}">
                        <i class="fa fa-id-card-o" aria-hidden="true"></i>
                        <input type="text" class="form-control" [formControl]="lastname" name="lastName" placeholder="Last Name">
                        <ng-container *ngIf="clientForm.controls['lastname'].hasError('required'); else elseLastnameErrorTemplate">
                            <span class="text-danger" *ngIf="clientForm.controls['lastname'].hasError('required') && (clientForm.controls['lastname'].dirty || clientForm.controls['lastname'].touched)">This field is required</span>
                        </ng-container>
                        <ng-template #elseLastnameErrorTemplate>
                            <span class="text-danger" *ngIf="clientForm.controls['lastname'].hasError('pattern') && (clientForm.controls['lastname'].dirty || clientForm.controls['lastname'].touched)">Please enter only alphabetical letters</span>
                        </ng-template>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <!-- {{minDate | json}} -->
                    <label for="">Date of Birth</label>
                    <div class="form-group a_select_no_icon " [ngClass]="{'has-error':!clientForm.controls['birthday'].valid && (clientForm.controls['birthday'].dirty || clientForm.controls['birthday'].touched)}">
                        <p-calendar class="ui-inputtext" [maxDate]="maxDateValue" [monthNavigator]="true" [yearNavigator]="true" [formControl]="birthday" yearRange={{range}} [showIcon]="true"></p-calendar>
                        <span class="text-danger" *ngIf="!clientForm.controls['birthday'].valid && (clientForm.controls['birthday'].dirty || clientForm.controls['birthday'].touched)">Birthday field is required</span>
                    </div>
                </div>
                <div class="col-sm-6">
                    <label for="">Gender</label>
                    <div class="form-group a_select a_left_icon_select" [ngClass]="{'has-error':!clientForm.controls['gender'].valid && clientForm.controls['gender'].touched}">
                        <i class="fa fa-transgender" aria-hidden="true"></i>
                        <select class="form-control" [formControl]="gender">
                            <option value="" selected disabled>Gender</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                        </select>
                        <span class="text-danger" *ngIf="clientForm.controls['gender'].hasError('required') && (clientForm.controls['gender'].dirty || clientForm.controls['gender'].touched)">This field is required</span>
                        <!-- <script>
                        $('select').selectpicker();
                        </script> -->
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <label for="">Phone Number</label>
                    <div class="form-group a_left_icon_input" [ngClass]="{'has-error':!clientForm.controls['phone'].valid && clientForm.controls['phone'].touched}">
                        <i class="fa fa-phone" aria-hidden="true"></i>
                        <input type="text" class="form-control" name="phone" [formControl]="phone" placeholder="Phone number">
                        <span class="text-danger" *ngIf="clientForm.controls['phone'].hasError('required') && (clientForm.controls['phone'].dirty || clientForm.controls['phone'].touched)">This field is required</span>
                        <span class="text-danger" *ngIf="clientForm.controls['phone'].hasError('pattern') && (clientForm.controls['phone'].dirty || clientForm.controls['phone'].touched)">Please include hyphens(-) in phone number</span>
                    </div>
                </div>
                <div class="col-sm-6">
                    <label for="">Email</label>
                    <div class="form-group a_left_icon_input" [ngClass]="{'has-error': (!email.valid && email.touched)}">
                        <i class="fa fa-envelope-o" aria-hidden="true"></i>
                        <input type="email" class="form-control" name="email" [formControl]="email" placeholder="Email">
                        <ng-container *ngIf="clientForm.controls['email'].hasError('required'); else elseEmailMsgTemplate">
                            <span class="text-danger" *ngIf="clientForm.controls['email'].hasError('required') && (clientForm.controls['email'].dirty || clientForm.controls['email'].touched)">This field is required</span>
                        </ng-container>
                        <ng-template #elseEmailMsgTemplate>
                            <span class="text-danger" *ngIf="clientForm.controls['email'].hasError('pattern') && (clientForm.controls['email'].dirty || clientForm.controls['email'].touched)">Invalid Email</span>
                        </ng-template>
                    </div>
                </div>
            </div>
            <!-- <h3 class="a_h3 d-block">Preferred form of Communication </h3>
            <div class="a_mb30">
                <ul class="a_list a_radio_list a_clearfix" [ngClass]="{'has-error':!clientForm.controls['preffered'].valid && clientForm.controls['preffered'].touched}">
                    <li>
                        <input type="radio" [formControl]="preffered" [checked]="preference=='Email' ? 'checked' : '' " id="yes" value="Email">
                        <label for="yes">Email</label>
                    </li>
                    <li>
                        <input type="radio" [formControl]="preffered" [checked]="preference=='Text' ? 'checked' : '' " id="no" value="Text">
                        <label for="no">Text</label>
                    </li>
                </ul>
                <span class="text-danger" *ngIf="clientForm.controls['preffered'].hasError('required') && (clientForm.controls['preffered'].dirty || clientForm.controls['preffered'].touched)">This field is required</span>
            </div> -->
            <div class="row">
                <div class="col-sm-6">
                    <label for="">Shipping address line 1</label>
                    <div class="form-group a_left_icon_input" [ngClass]="{'has-error':!clientForm.controls['line1'].valid && clientForm.controls['line1'].touched}">
                        <i class="fa fa-address-card" aria-hidden="true"></i>
                        <input type="text" class="form-control" name="line1" [formControl]="line1" placeholder="Shipping address line 1">
                        <span class="text-danger" *ngIf="clientForm.controls['line1'].hasError('required') && (clientForm.controls['line1'].dirty || clientForm.controls['line1'].touched)">This field is required</span>
                    </div>
                </div>
                <div class="col-sm-6">
                    <label for="">Shipping address line 2</label>
                    <div class="form-group a_left_icon_input" [ngClass]="{'has-error':!clientForm.controls['line2'].valid && clientForm.controls['line2'].touched}">
                        <i class="fa fa-address-card" aria-hidden="true"></i>
                        <input type="text" class="form-control" name="line2" [formControl]="line2" placeholder="Shipping address line 2">
                        <span class="text-danger" *ngIf="clientForm.controls['line2'].hasError('required') && (clientForm.controls['line2'].dirty || clientForm.controls['line2'].touched)">This field is required</span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <label for="">City</label>
                    <div class="form-group a_left_icon_input" [ngClass]="{'has-error':!clientForm.controls['city'].valid && clientForm.controls['city'].touched}">
                        <i class="fa fa-building" aria-hidden="true"></i>
                        <input type="text" class="form-control" name="city" [formControl]="city" placeholder="City">
                        <span class="text-danger" *ngIf="clientForm.controls['city'].hasError('required') && (clientForm.controls['city'].dirty || clientForm.controls['city'].touched)">This field is required</span>
                    </div>
                </div>
                <div class="col-sm-6">
                    <label for="">Postal Code</label>
                    <div class="form-group a_left_icon_input" [ngClass]="{'has-error':!clientForm.controls['postalCode'].valid && clientForm.controls['postalCode'].touched}">
                        <i class="fa fa-envelope" aria-hidden="true"></i>
                        <input type="text" class="form-control" name="postalCode" [formControl]="postalCode" placeholder="Postal Code">
                        <span class="text-danger" *ngIf="clientForm.controls['postalCode'].hasError('required') && (clientForm.controls['postalCode'].dirty || clientForm.controls['postalCode'].touched)">This field is required</span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <label for="">State</label>
                    <div class="form-group a_select a_left_icon_input" [ngClass]="{'has-error':!clientForm.controls['province'].valid && clientForm.controls['province'].touched}">
                        <i class="fa fa-flag-o" aria-hidden="true"></i>
                        <select class="form-control" [formControl]="province" *ngIf="statesReady">
                            <option value="" selected disabled>State</option>
                            <option  *ngFor="let item of states" value="{{item.Id}}">{{item.Name}}</option>
                        </select>
                        <span class="text-danger" *ngIf="clientForm.controls['province'].hasError('required') && (clientForm.controls['province'].dirty || clientForm.controls['province'].touched)">This field is required</span>
                    </div>
                </div>
                <div class="col-sm-6">
                    <label for="">Country</label>
                    <div class="form-group a_select a_left_icon_input" [ngClass]="{'has-error':!clientForm.controls['country'].valid && clientForm.controls['country'].touched}">
                        <i class="fa fa-flag" aria-hidden="true"></i>
                        <select class="form-control" [formControl]="country">
                            <option value="" selected disabled>Country</option>
                            <option value="US">United States</option>
                        </select>
                        <span class="text-danger" *ngIf="clientForm.controls['country'].hasError('required') && (clientForm.controls['country'].dirty || clientForm.controls['country'].touched)">This field is required</span>
                    </div>
                </div>
            </div>
            <!-- <h3 class="a_h3">Referred</h3> -->
            <!-- <ul class="a_list a_radio_list a_clearfix">
                <li>
                    <input type="radio" id="yes1" value="true" name="isReffer" [checked]="isReffered" [formControl]="isReffer" [attr.checked]="isReffered ? 'checked' : null" [attr.selected]="isReffered ? 'selected' : null" (change)="onSelectionChange(true)">
                    <label for="yes1">Yes</label>
                </li>
                <li>
                    <input type="radio" id="no1" value="false" name="isReffer" [checked]="!isReffered" [formControl]="isReffer" [attr.checked]="!isReffered ? 'checked' : null" [attr.selected]="!isReffered ? 'selected' : null" (change)="onSelectionChange(false)">
                    <label for="no1">No</label>
                </li>
            </ul> -->
            <label for="">Referred By</label>
            <div class="form-group">
                <input class="form-control" type="text" [formControl]="refferedby" placeholder="Write your referral name.">
                <span class="text-danger" *ngIf="clientForm.controls['refferedby'].hasError('required') && (clientForm.controls['refferedby'].dirty || clientForm.controls['refferedby'].touched)">This field is required</span>
            </div>
            <div class="text-center">
                <button class="btn a_red_btn mr-2 a_mr3_786 a_left_icon" type="reset" (click)="goBack()">
                    <img src="assets/images/close-icon.png" alt=""> Cancel
                </button>
                <button class="btn a_blue_btn a_ml3_786 a_right_icon ml-2" type="submit">
                    Save
                    <img src="assets/images/right-arrow-icon.png" alt="">
                </button>
            </div>
        </form>
    </div>
</section>
<div *ngIf="globalState.enabledDebug" class="row">
    <div class="col-md-12">
        <pre *ngIf="clientForm">{{clientForm.value | json}}</pre>
        <pre *ngIf="client">{{client | json}}</pre>
    </div>
</div>