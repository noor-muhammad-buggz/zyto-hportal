<div class="page-main">
  <div class="container">
    <div class="scan-upload" *ngIf="facialData?.Status === 'FaceImage'">
      <div class="row" *ngIf="!webCam">
        <div class="col-lg-4">
          <div class="suc-top desk-hide">
            <h2 class="blue-uc-text">Image Acquisition</h2>
          </div>
          <div class="uploaded-image">
            <img src="{{ facialData?.Image?.Url || '../../../assets/images/y_u_no_photo_Square.png'}}" class="as-circle-img">
          </div>
        </div>

        <div class="col-lg">
          <div class="scan-upload-content">
            <div class="suc-top mb-hide">
              <h2 class="blue-uc-text">Image Acquisition</h2>
            </div>
            <div class="suc-bottom">
              <p class="blue-text">Use your webcam to take a photo of {{client?.PersonInfo?.Name?.FirstName}} {{client?.PersonInfo?.Name?.LastName}}
                and upload it to Insights Application. Or upload an image from your computer.</p>
              <div class="row">
                <!-- <div class="col-md-12"> -->
                <div class="upload-btn-wrap col-md-6 text-left">
                  <button type="button" class="btn upload-btn" (click)="startWebcam()">Acquire Image</button>
                </div>
                <div class="upload-btn-wrap text-right col-md-6">
                  <input type="file" id="imageUP" accept="image/*" #imageUpload capture="camera" ng2FileSelect [uploader]="uploader" />
                  <button type="button" class="btn upload-btn ">Upload Image</button>
                </div>
                <!-- </div> -->
              </div>
            </div>
          </div>
        </div>
        <!-- <p>Queue length: {{ uploader?.queue?.length }}</p> -->
      </div>
      <div class="row">
        <div class="col-lg text-center">
          <div class="camera-select">
            <label for="cameras" *ngIf="webCam">Video Source</label>
            <select id="videoSource" *ngIf="webCam" [(ngModel)]="selectedCamera" (change)="changeCamera()">
              <!-- <option value=''>Select Camera</option> -->
              <option *ngFor="let c of cameras;let i=index" value="{{c.deviceId}}">{{c.label}}</option>
            </select>
          </div>

          <div id="my_camera" class="center-video"></div>
          <!-- <button (click)="stopWebcam()">Stop WebCam</button> -->
          <div class="text-center mt-15">
            <button type="button" class="btn upload-btn" (click)="snapshot()" *ngIf="webCam">Acquire Image</button>
          </div>
        </div>
      </div>
    </div>




    <div class="scan-upload verify-image" *ngIf="facialData?.Status === 'FaceVerification'">
      <div class="row">
        <div class="col-lg-4">
          <div class="suc-top desk-hide">
            <h2 class="blue-uc-text">Image Verification</h2>
          </div>
          <div class="uploaded-image">
            <img src="{{ facialData?.Face?.Image?.Url || '../../../assets/images/y_u_no_photo_Square.png'}}" class="as-circle-img">
          </div>
        </div>

        <div class="col-lg">
          <div class="scan-upload-content">
            <div class="suc-top mb-hide">
              <h2 class="blue-uc-text">Image Verification</h2>
            </div>
            <div class="suc-bottom">
              <p class="blue-text">Verify image: Is this a photo of {{client?.PersonInfo?.Name?.FirstName}} {{client?.PersonInfo?.Name?.LastName}}?</p>
              <div class="verify-btn-wrap">
                <button type="button" class="btn as-pink-btn" (click)="faceNotVerified()">No</button>
                <button type="button" class="btn as-darkblue-btn" (click)="faceVerified()">Yes</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
